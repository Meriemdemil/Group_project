Universit√© des sciences et de la Technologie Houari Boumediene 
 USTHB ‚Äì Alger 
 D√©partement d‚ÄôInformatique 
 MASTER SYST√àMES INFORMATIQUES INTELLIGENTS 
 MASTER INFORMATIQUE VISUELLE LA M√âTA - BASE 
 ( LES CATALOGUES ) 
 ARCHITECTURE ET ADMINISTRATION DES 
 BASES DE DONN√âES 
 ORACLE , SQL SERVER , MYSQL 
 ET DB2 
 ENSEIGNANT : M. KAMEL BOUKHALFA 2 
 PLAN 
 ( cid:0)Un peu de th√©orie 
 ( cid:0)Dictionnaire de donn√©es Oracle 
 ( cid:0)Les catalogues syst√®me de SQL SERVER 
 ( cid:0)Catalogues de MySQL 
 ( cid:0)Catalogues de DB2 d‚ÄôIBM 
 ( cid:0)Conclusion 
 ( cid:0)Bibliographie 
 3 
 RAPPEL 
 4 
 Administrateur Utilisateur Applications 
 Programmes 
 Requ√™tes DDL Requ√™tes 
 Interactives Compilateur du 
 Pr√© - Compilateur 
 langage de Prog . 
 Compilateur DDL Compilateur Commandes DML 
 de Requ√™tes 
 Transactions 
 Compilateur DML 
 Compil√©es 
 M√©ta - base 
 Gestionnaire Ex√©cute Processeur de BD 
 des donn√©es 
 Module de contr√¥le des 
 acc√®s concurrents 
 BD 
 Module de Restauration 
 et de recouvrement 
 UN PEU DE TH√âORIE 
 Une base de donn√©es contient des relations de base , des chemins 
 d‚Äôacc√®s et des vues . 
 Le SGBD , pour fonctionner et assurer ses objectifs doit pouvoir 
 retrouver les diff√©rentes informations sur ces cat√©gories d‚Äôinformation . 
 ü°™ CATALOGUES 
 Les catalogues sont des relations ( tables ) . 
 Ces relations contiennent des informations sur tous les objets de la 
 base de donn√©es . 
 Sans ces informations le SGBD ne peut pas assurer ses objectifs . 
 PRINCIPAUX CATALOGUES 
 ( cid:0)La relation RELATION : 
 Chacun de ses tuples d√©crit une relation de la 
 base . 
 ( cid:0)La relation ATTRIBUT : 
 chacun de ses tuples d√©crit 
 un attribut d‚Äôune 
 relation de la base 
 ( cid:0)La relation INDEX : 
 chacun de ses tuples d√©crit une relation index cr√©e 
 sur une relation de base ou syst√®me . 
 ( cid:0)La relation VUE : chacun de ses tuples d√©crit une vue de la base . 
 ( cid:0)La relation AUTORISATION : 
 chacun de ses tuples d√©crit un utilisateur 
 avec les droits qui lui sont accord√©s sur chaque objet de la 
 base(lecteur / √©criture / modification ‚Ä¶ ) 
 6 
 RELATION 
 Nom relation Type Ident Taille tuple Cardinalit√© Degr√© Date Version Adresse 
 ( nom relation relation ( nbre ( nombre ( nombre cr√©ation 1er 
 externe ) ( nom octets ) tuples ) attributs ) attribut 
 interne ) 
 Relation syst√®me 1 100 50 09 25/03/02 1 
 Fournisseur Base 10 110 1000 04 25/03/02 1 @ 
 7 
 ATTRIBUT 
 Chaque tuple est un descripteur d‚Äôune relation dans la base de 
 ‚¶ø 
 donn√©e . 
 Informations incluses : 
 ‚¶ø 
 Nom de la relation 
 ‚¶ø 
 Type de la relation 
 ‚¶ø 
 Taille 
 ‚¶ø 
 Cardinalit√© 
 ‚¶ø 
 Date de cr√©ation , 
 ‚¶ø 
 Adresse du premier attribut 
 ‚¶ø 
 8 
 Chaque tuple d√©crit un attribut d‚Äôune relation de la base 
 ‚¶ø 
 Informations incluses : 
 ‚¶ø 
 Nom de l‚Äôattribut 
 ‚¶ø 
 Identificateur attribut 
 ‚¶ø 
 Identificateur relation 
 ‚¶ø 
 Type attribut 
 ‚¶ø 
 longueur 
 ‚¶ø 
 Position de l‚Äôattribut dans la table 
 ‚¶ø 
 Nom attribut Identificateur Identificateur Type attribut longueur Position attribut 
 ( nom externe ) attribut relation dans la relation 
 Numf 11 02 Integer 06 01 
 Nomf 12 02 Char 10 02 
 INDEX 
 9 
 VUE 
 Chaque tuple d√©crit UN index cr√© sur une relation de base ou 
 ‚¶ø 
 syst√®me 
 Informations incluses : 
 ‚¶ø 
 Nom de l‚Äôindex 
 ‚¶ø 
 Identificateur de la relation index√©e 
 ‚¶ø 
 Type de l‚Äôindex 
 ‚¶ø 
 Attributs index√©s 
 ‚¶ø 
 Nom index Identification relation Type Liste arguments index 
 ( primaire , secondaire ) 
 XFOUR 02 P Numf 
 XSFOUR 02 S villef 
 01 
 Chaque tuple d√©crit une vue cr√©√©e sur la base . 
 ‚¶ø 
 Informations incluses : 
 ‚¶ø 
 Identificateur de la vue 
 ‚¶ø 
 Identificateurs des relations de base utilis√©es par la vue 
 ‚¶ø 
 Requ√™te d√©finissant la vue 
 ‚¶ø 
 Identificateur(s ) des relations de Identificateur de la vue Requ√™te qui d√©finit la vue 
 base 
 02 100 
 Select * from fournisseur where 
 villef = ‚Äô Tunis ‚Äô 
 CATALOGUES - SGBD 
 ‚ùñ 
 Les catalogues d√©pendent du SGBD 
 ‚ùñ Chaque SGBD poss√®de une sp√©cificit√© 
 ‚ùñ D‚Äôautres catalogues peuvent exister 
 Les structures des catalogues peuvent √™tre diff√©rentes selon 
 les SGBDs 
 ORACLE 
 21 
 LE DICTIONNAIRE DE DONN√âES 
 ORACLE 
 Organis√© comme une base de donn√©es ( ensemble de 
 ‚ùñ La plupart de ses tables ne sont pas modifiables par 
 les utilisateurs(seul l‚Äôadministrateur de la base 
 syst√®me , a acc√®s √† ces derni√®res ) . 
 ‚ùñ Le contenu de ces tables est accessible par 
 l‚Äôinterm√©diaire des vues . 
 CLASSEMENT DE VUES DE 
 DICTIONNAIRE DE DONN√âES 
 USER_XXX 
 ‚Ä¢d√©crit les objets appartenant √† l‚Äôutilisateur connect√© 
 ALL_XXX : 
 ‚Ä¢d√©crit les objets accessibles √† tous les utilisateurs 
 DBA_XXX : 
 ‚Ä¢d√©crit tous les objets ( vues autoris√©es aux administrateurs de la 
 base seulement ‚Ä¶ ) 
 V$_XXX : 
 ‚Ä¢pour le suivi des performances 
 41 
 QUELQUES VUES DE DICTIONNAIRE 
 D‚ÄôORACLE 
 Nom de la vue contenu 
 DICTIONARY ( DICT ) Vues permettant de consulter le dictionnaire de donn√©es 
 tables et vues cr√©es par l‚Äôutilisateur 
 USER_TABLES ( TABS ) 
 Tables et vues sur lesquelles l‚Äôutilisateur a des droits ( lecture , 
 ALL_CATALOG ( CAT ) 
 √©criture , modification ‚Ä¶ ) 
 USER_TAB_COLUMNS 
 Colonnes de chaque table ou vue cr√©e par l‚Äôutilisateur courant 
 ( COLS ) 
 USER_VIEWS Vues cr√©es par l‚Äôutilisateur 
 Indexes cr√©es par l‚Äôutilisateur ou indexant des tables cr√©es par 
 USER_INDEXES ( IND ) 
 l‚Äôutilisateur 
 Objets sur lesquels l‚Äôutilisateur est propri√©taire , donneur ou 
 USER_TAB_PRIVS 
 receveur d‚Äôautorisation 
 USER_CONSTRAINTS D√©finition de contraintes pour les tables d‚Äôutilisateur 
 51 
 REQU√äTES UTILES 
 ( cid:0)DESCRIBE table / vue 
 ( cid:0)pour avoir tous les attributs de cette table ou vue 
 ( cid:0)select comments from DICT where table_name=‚Äònom d‚Äôune vue de 
 dictionnaire de donn√©es ‚Äò 
 ( cid:0)Utiliser l‚Äôattribut comments de la vue DICTIONARY pour connaitre 
 le contenu de la vue . 
 61 
 QUELQUES EXEMPLES 
 Structure d‚Äôune table 
 SELECT COLUMN_NAME , DATA_TYPE , DATA_LENGTH , DATA_PRECISION FROM USER_TAB_COLUMNS WHERE TABLE_NAME = 
 ‚Äô INSTALLER ‚Äô ; 
 COLUMN_NAME DATA_TYPE DATA_LENGTH DATA_PRECISION 
 ------------ 
 SELECT OBJECT_NAME , OBJECT_TYPE , CREATED FROM USER_OBJECTS ; 
 OBJECT_NAME OBJECT_TYPE CREATED 
 ------------------------------ ------------------ 
 SQL 
 SERVER 
 81 
 LES CATALOGUES SYST√àME DE SQL 
 SERVER 
 ‚ùñ 
 Un ensemble de vues affichant les m√©tadonn√©es 
 d√©crivant les objets dans une instance de SQL 
 Server 
 ‚ùñ 
 Les m√©tadonn√©es ne sont visibles que pour les 
 √©l√©ments s√©curisables qu'un utilisateur d√©tient ou 
 pour lesquels des autorisations lui ont √©t√© 
 accord√©es . 
 91 
 L‚ÄôACC√àS AUX INFORMATIONS DES 
 CATALOGUES SYST√àME 
 ‚ùñ Affichage catalogue . 
 ( la plus recommand√©e ) 
 ‚ùñ Vues des sch√©mas d'information . 
 ‚ùñ Ensembles de lignes de sch√©mas OLE DB . 
 ‚ùñ Fonctions de catalogue ODBC . 
 ‚ùñ Fonctions et proc√©dures stock√©es syst√®me . 
 02 
 VUES D‚ÄôAFFICHAGE CATALOGUE 
 OBJETS 
 12 
 EXEMPLE DE REQU√äTES 
 Vue de catalogue Contenu 
 Sys.objects 
 Contient une ligne pour chaque objet(table sys , table user , Toutes les tables d√©finies par l'utilisateur dans une base de 
 contraint check , primary key .. ) 
 donn√©es sp√©cifi√©e(simple ): 
 Sys.tables(h√©rite de sys.objects 
 Toutes les table de la base en cours ( d√©finies par l‚Äôutilisateur ) 
 sys.columns , informations sur toutes les colonnes pour chaque table de la Use < database_name > 
 sys.computed_columns(calcul√©e ) base , les autres vues sont pour des colonnes de type particulier 
 sys.foreign_key_column ( elles h√©ritent de sys.columns ) go 
 sys.identity_columns 
 sys.foreign_keys Informations sur les contraintes de type cl√© √©trang√®res Select * from sys.tables 
 sys.foreign_key_columns 
 sys.indexes 
 Information sur les indexes de tables de la base en cours(nom 
 go 
 de l‚Äôindex , la table sur laquelle l‚Äôindex est cr√©e ) 
 sys.check_constraints , Informations sur les diff√©rentes contraintes . 
 sys.default_constraints , 
 sys.key_constraints 
 22 
 MYSQL 
 32 
 MYSQL 
 ‚ùñ MySQL dispose d'un catalogue syst√®me pour l'ensemble des 
 bases de donn√©es pr√©sentes dans le SGBD . 
 ‚ùñ Le nom de cette base , accessible en lecture , est 
 INFORMATION_SCHEMA . 
 ‚ùñ Une collection de vues syst√®mes et non pas de tables 
 physiques . 
 ‚ùñ Pour se placer dans le catalogue , il suffit de taper la 
 commande suivante : USE INFORMATION_SCHEMA ; 
 42 
 CATALOGUES ET DICTIONNAIRE DE 
 DONN√âES 
 Les informations concernant les bases sont d√©crites dans la vue 
 syst√®me SCHEMATA . 
 Pour obtenir toutes les informations sur une base de donn√©es on 
 utilise l‚Äôattribut SCHEMA_NAME . 
 SELECT * 
 FROM INFORMATION _ SCHEMA . 
 SCHEMATA 
 WHERE SCHEMA _ NAME = ' nom _ base ' ; 
 52 
 LES TABLES 
 Les m√©tadonn√©es des tables sont pr√©sentes dans la vue syst√®me 
 TABLES . 
 Les informations couramment utilis√©es dans cette vue syst√®me sont : 
 ‚Ä¢ TABLE_SCHEMA 
 ‚Ä¢ TABLE_NAME 
 ‚Ä¢ TABLE_TYPE 
 ‚Ä¢ ENGINE 
 ‚Ä¢ TABLE_ROWS 
 ‚Ä¢ DATA_LENGTH 
 ‚Ä¢ MAX_DATA_LENGTH 
 ‚Ä¢ INDEX_LENGTH 
 ‚Ä¢ AUTO_INCREMENT 
 ‚Ä¢ CREATE_TIME : date et heure de cr√©ation de la table ; 
 ‚Ä¢ TABLE_COLLATION 
 62 
 LES COLONNES 
 Les m√©tadonn√©es sur les colonnes ( ou champs ) sont contenues dans la vue syst√®me 
 COLUMNS . 
 Les informations les plus utiles dans cette vue syst√®me sont les suivantes : 
 ‚Ä¢ TABLE_SCHEMA 
 ‚Ä¢ TABLE_NAME 
 ‚Ä¢ COLUMN_NAME 
 ‚Ä¢ ORDINAL_POSITION 
 ‚Ä¢ COLUMN_DEFAULT : la valeur par d√©faut de la colonne ; 
 ‚Ä¢ IS_NULLABLE DATA_TYPE 
 ‚Ä¢ CHARACTER_MAXIMUM_LENGTH 
 ‚Ä¢ Etc ‚Ä¶ .. 
 72 
 LES INDEX 
 La vue syst√®me STATISTICS contient les m√©tadonn√©es sur les index 
 Une partie de cette information se retrouve dans la vue syst√®me d√©crivant les colonnes . 
 Les informations les plus utiles sont : 
 ‚Ä¢ TABLE_SCHEMA 
 ‚Ä¢ TABLE_NAME 
 ‚Ä¢ NON_UNIQUE 
 ‚Ä¢ INDEX_NAME 
 ‚Ä¢ SEQ_IN_INDEX 
 ‚Ä¢ COLUMN_NAME 
 ‚Ä¢ CARDINALITY 
 ‚Ä¢ INDEX_TYPE 
 82 
 LES CONTRAINTES 
 Pour les informations sur les contraintes d'une table , il faut utiliser la 
 combinaison de deux nouvelles vues syst√®mes de m√©tadonn√©es : 
 TABLE_CONSTRAINTS et KEY_COLUMN_USAGE . 
 La premi√®re des deux vues fournit principalement le type de la 
 contrainte , alors que la seconde donne les tables et colonnes qui 
 utilisent cette contrainte . 
 EXEMPLE 
 Afficher la liste des cl√©s √©trang√®res d'une table 
 SELECT * 
 FROM INFORMATION _ SCHEMA . 
 TABLE _ CONSTRAINTS 
 WHERE TABLE _ SCHEMA = ' nom _ base ' 
 AND TABLE _ NAME = ' nom _ table ' 
 AND CONSTRAINT _ TYPE = ' FOREIGN KEY ' ; 
 03 
 LES PROC√âDURES STOCK√âES , 
 FONCTIONS ET D√âCLENCHEURS 
 Utilisation de la vue syst√®me ROUTINES 
 Les informations sur les proc√©dures stock√©es et fonctions 
 ( routines 
 SELECT * 
 FROM INFORMATION_SCHEMA.ROUTINES 
 13 
 LES TRIGGERS : 
 Le catalogue fournit , depuis la version 5.0.10 de MySQL , des informations sur les 
 d√©clencheurs ( triggers ) . 
 Quelques donn√©es contenues dans le dictionnaire 
 ‚Ä¢ TRIGGER_NAME 
 ‚Ä¢ EVENT_MANIPULATION 
 ‚Ä¢ EVENT_OBJECT_SCHEMA 
 ‚Ä¢ EVENT_OBJECT_TABLE 
 ‚Ä¢ ACTION_ORDER 
 ‚Ä¢ ACTION_STATEMENT 
 ‚Ä¢ ACTION_ORIENTATION 
 ‚Ä¢ ACTION_TIMING 
 ‚Ä¢ DEFINER 
 23 
 LES PRIVILEGES 
 Quatre vues syst√®mes fournissent des informations sur les privil√®ges globaux sur 
 un serveur MySQL 
 ‚Ä¢ USER_PRIVILEGES ; 
 ‚Ä¢ SCHEMA_PRIVILEGES ; 
 ‚Ä¢ TABLE_PRIVILEGES ; 
 ‚Ä¢ COLUMN_PRIVILEGES . 
 ( cid:0)La vue syst√®me USER_PRIVILEGES fournit des informations sur les utilisateurs 
 d√©clar√©s . 
 Ces informations sont issues de la table MYSQL.USER . 
 33 
 IBM DB2 
 43 
 LES TABLES 
 SYSCAT.TABLES 
 ‚Ä¢Vue du catalogue contenant des informations sur les objets cr√©√©s dans 
 une base de donn√©es , tels que des tables , des vues , ‚Ä¶ 
 Les informations ( champs ) couramment utilis√©es dans cette vue 
 syst√®me 
 ‚Ä¢TABSCHEMA 
 ‚Ä¢TABNAME 
 ‚Ä¢TYPE 
 ‚Ä¢ColCount 
 ‚Ä¢INDEXID 
 53 
 LES VUES ET LES COLONNES 
 SYSCAT.VIEWS 
 Permet de visualiser une ou plusieurs lignes par vue d√©finie dans une 
 instance de base de donn√©es . 
 On peut utiliser cette vue catalogue 
 pour en savoir plus sur les vues . 
 Les informations enregistr√©es dans 
 cette vue inclut nom de la vue , et la validit√© de la vue ... 
 Les colonnes 
 SYSCAT.COLUMNS 
 ‚Ä¢ Utilis√© pour stocker des informations sur les colonnes dans une table . 
 63 
 LES INDEX 
 SYSCAT.INDEXES 
 ‚Ä¢ Utilis√© pour stocker des informations sur les index d√©finis pour une table donn√©e . 
 Les informations remarquables dans cette vue syst√®me 
 ‚Ä¢ INDSCHEMA 
 ‚Ä¢ INDNAME 
 ‚Ä¢ DEFINER 
 ‚Ä¢ TABSCHEMA 
 ‚Ä¢ TABNAME 
 ‚Ä¢ Colnames 
 ‚Ä¢ UNIQUERULE . 
 73 
 LES D√âCLENCHEURS 
 SYSCAT.TRIGGERS 
 ‚Ä¢ Utilis√© pour stocker des informations sur les d√©clencheurs d√©finis dans une base de 
 donn√©es . 
 Informations contenues dans la vue 
 ‚Ä¢ TRIGSCHEMA 
 ‚Ä¢ TRIGNAME 
 ‚Ä¢ DEFINER 
 ‚Ä¢ TABSCHEMA 
 ‚Ä¢ TABNAME 
 ‚Ä¢ TRIGTIME 
 ‚Ä¢ TRIGEVENET 
 ‚Ä¢ GRANULARITE . 
 83 
 AUTRES CATALOGUES UTILES 
 ‚ùë SYSCAT.CHECKS - contient des informations sur les contraintes de v√©rification dans un 
 tableau 
 ‚ùë SYSCAT.COLAUTH - contient des informations sur les droits d'acc√®s des utilisateurs pour 
 une colonne particuli√®re 
 ‚ùë SYSCAT . 
 DATATYPE - contient des informations sur les types de donn√©es int√©gr√©s et d√©finis 
 par l'utilisateur disponible dans la base de donn√©es 
 ‚ùë SYSCAT . 
 DBAUTH - des informations d'autorisation des utilisateurs pour une instance de base 
 de donn√©es particuli√®re 
 ‚ùë SYSCAT.IND EXAUTH - Avantages pour les utilisateurs sur un index particulier