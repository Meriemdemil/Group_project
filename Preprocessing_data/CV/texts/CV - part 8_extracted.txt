Course 
 Â« Computer Vision Â» 
 Sid - Ahmed Berrani 
 2024 - 2025 
 1 
 IV . 
 Edge Detection : The Canny Detector 
 â€¢ Probably the most widely used edge detector in computer vision . 
 â€¢ 
 It uses the best properties of the gradient operator and the Laplacian . 
 Optimal means : 
 1 . Low error rate : All edges should be found , and there should be no spurious 
 responses . 
 Single edge point response : 
 The detector should not identify multiple edge pixels 
 where only a single edge point exists . 
 Edge Detection : The Canny Detector 
 â€¢ 
 With the additional constraint that a single peak should be generated at a step - edge . 
 Edge Detection : The Canny Detector 
 â€¢ The algorithm : 
 â€¢ Smooth the image with a 2D Gaussian filter . 
 â€¢ Compute Image gradient using Sobel operator ( for example ) . 
 â€¢ Find gradient magnitude at each pixel . 
 â€¢ Find gradient orientation at each pixel . 
 â€¢ Apply a non - maxima suppression approach ( the idea is to select the single 
 maximum point across the width of an edge ) . 
 â€¢ Threshold the non - maxima suppressed gradient image to reduce false edge 
 points â€“ Hysteresis thresholding is used here . 
 5 
 IV . Edge Detection : The Canny Detector 
 â€¢ Smooth the image with a 2D Gaussian filter : 
 ğ’ âˆ— ğ‘° 
 ğˆ 
 â€¢ Compute Image gradient using Sobel operator ( for example ): 
 âˆ‡ğ’ âˆ— ğ‘° 
 ğˆ 
 â€¢ Find gradient magnitude at each pixel : 
 âˆ‡ğ’ âˆ— ğ‘° 
 ğˆ 
 6 
 IV . 
 Edge Detection : The Canny Detector 
 â€¢ Smooth the image with a 2D Gaussian filter : 
 ğ’ âˆ— ğ‘° 
 ğˆ 
 â€¢ Compute Image gradient using Sobel operator ( for example ): 
 âˆ‡ğ’ âˆ— ğ‘° 
 ğˆ 
 â€¢ Find gradient magnitude at each pixel : 
 âˆ‡ğ’ âˆ— ğ‘° 
 ğˆ 
 â€¢ Find gradient direction at each pixel : 
 âˆ‡ğ’ âˆ—ğ‘° 
 ğ’à· = ğˆ 
 âˆ‡ğ’ âˆ—ğ‘° 
 ğˆ 
 7 
 IV . 
 Edge Detection : The Canny Detector 
 â€¢ Smooth the image with a 2D Gaussian filter : 
 ğ’ âˆ— ğ‘° 
 ğˆ 
 â€¢ Compute Image gradient using Sobel operator ( for example ): 
 âˆ‡ğ’ âˆ— ğ‘° 
 ğˆ 
 â€¢ Find gradient magnitude at each pixel : 
 âˆ‡ğ’ âˆ— ğ‘° 
 ğˆ 
 â€¢ Find gradient direction at each pixel : 
 âˆ‡ğ’ âˆ—ğ‘° 
 ğ’à· = ğˆ 
 âˆ‡ğ’ âˆ—ğ‘° 
 ğˆ 
 â€¢ Compute 1D Laplacian along the gradient direction ğ’à· at each pixel : 
 ğŸ 
 ğ ( ğ’ âˆ—ğ‘° ) 
 ğˆ 
 ğğ’à·ğŸ 
 8 
 IV . 
 10 
 IV . Edge Detection : The Canny Detector 
 â€¢ Smooth the image with a 2D Gaussian filter : 
 ğ’ âˆ— ğ‘° 
 ğˆ 
 â€¢ Compute Image gradient using Sobel operator ( for example ): 
 âˆ‡ğ’ âˆ— ğ‘° 
 ğˆ 
 â€¢ Find gradient magnitude at each pixel : 
 âˆ‡ğ’ âˆ— ğ‘° 
 ğˆ 
 â€¢ Find gradient direction at each pixel : 
 âˆ‡ğ’ âˆ—ğ‘° 
 ğ’à· = ğˆ 
 âˆ‡ğ’ âˆ—ğ‘° 
 ğˆ 
 â€¢ Apply the non - maxima suppression : For each pixel check the 
 neighbors depending on the direction of the gradient 
 11 
 IV . 
 â€“ smooth the image using a Gaussian filter . 
 Can be presented as â€œ a non - maxima suppression â€ or â€œ a 1D Laplacian 
 operator â€ . 
 15 
 IV . Edge Detection : The Canny Detector 
 â€¢ 
 Edge Detection : The Canny Detector 
 â€¢ 
 Another example 
 17 
 V. Edge Detection : Few Optical Illusions 
 â€¢ 
 https://michaelbach.de/ot/ang-hering/ 
 Edge Detection Evaluation 
 Why Evaluate Edge Detectors ? 
 â€¢ Compare performance of different methods . 
 â€¢ Choose the most suitable detector for a target application . 
 â€¢ Ensure reliability in real - world tasks . 
 20 
 V. Edge Detection Evaluation 
 â€¢ Do the results match human perception ? 
 Common practice : overlay edge map on original image . 
 ïƒ Quick , intuitive , but subjective . 
 21 
 V. Edge Detection Evaluation 
 V. Edge Detection Evaluation 
 Lower BDE â†’ better alignment with true boundaries . 
 â€¢ Pratt â€™s Figure of Merit ( FOM ): see next slide . 
 â€¢ Edge Localization Error : Measures how precisely edges are detected in terms of position , 
 especially important in high - resolution images or critical applications . 
 V. Edge Detection Evaluation 
 In addition , computational metrics can also be used : 
 â€¢ Runtime performance 
 â€¢ Memory usage 
 â€¢ Scalability to large images 
 ïƒ These can be important in real - time or resource - constrained systems . 
 26 
 V. Edge Detection Evaluation 
 How is Ground - Truth Created ? 
 â€¢ Manual annotation by humans ( pixel - accurate ) 
 â€¢ 
 Multiple annotators : consensus or averaging 
 â€¢ Synthetic images with known edge structure ( ideal for testing ) 
 Available datasets with ground - truth : 
 â€¢ BSDS500 : Natural images , human - labeled contours 
 â€¢ NYUDv2 : RGB - D indoor scenes with edges 
 â€¢ PASCAL Boundaries : Object - level boundaries 
 â€¢ SBD : Semantic boundaries from PASCAL VOC 
 â€¢ BSDS300 : Classic version , still cited 
 27 
 V. 
 Edge Detection Evaluation 
 Best Practices in Evaluation : 
 â€¢ Align image resolutions ( ground - truth and prediction ) 
 â€¢ Allow small tolerance in edge location 
 â€¢ Avoid data leakage ( do not evaluate on training data ) 
 â€¢ Combine quantitative and qualitative evaluation 
 28