Course 
 « Computer Vision » 
 Sid - Ahmed Berrani 
 2024 - 2025 
 1 
 Image enhancement : Intensity transformation 
 • 
 This part focuses on techniques that modify the intensity of pixels implemented in 
 the spatial domain ( i.e. the image plane containing the pixels of the image ) . 
 Image enhancement : Intensity transformation 
 • Log Transformations 
 = > Maps a wide range of high 
 intensity values in input to a 
 narrow range of output levels . 
 10 
 Image enhancement : Intensity transformation 
 • Log Transformations 
 = > low intensity values in the 
 input image are mapped to a 
 wider range of output levels .. 
 11 
 Image enhancement : Intensity transformation 
 • Log Transformations : Applications 
 • Expands the dark pixels in the image while compressing the brighter pixels 
 • Compresses the dynamic range ( display of Fourier transform ) . 
 Recall that the dynamic range refers to the ratio of max and min intensity values . 
 When the dynamic range of the image is greater than that of displaying 
 device(like in Fourier transform ) = > The lower values are suppressed . 
 Solution : The log transformation 
 In other terms , a logarithmic transform is appropriate when we want to enhance 
 the low pixel values at the expense of loss of information in the high pixel values . 
 12 
 Image enhancement : Intensity transformation 
 • Log Transformations 
 13 
 Image enhancement : Intensity transformation 
 • Log Transformations : Applications 
 But be careful if most of the details are present in the high pixel values … 
 14 
 Image enhancement : Intensity transformation 
 • Gamma ( or power law ) transformations 
 𝜸 
 They have the following basic form : 𝒔 = 𝒄. 𝒓 
 where 𝒄 and 𝜸 are positive constants . 
 • Compress values similar to log transformation 
 but more flexible due to the 𝛄 parameter 
 • Curves generated with a 𝛄>1 have the opposite 
 • effect of those with 𝛄<1 
 • Identity transformation when c=𝛄=1 
 15 
 Image enhancement : Intensity transformation 
 • 
 Gamma ( or power law ) transformations 
 Gamma correction is useful because many image capture / printing / display devices 
 have a power law response ( not linear ! ) . 
 By using gamma correction we can remove this effect to obtain a response that is 
 similar to the original image 
 16 
 Image enhancement : Intensity transformation 
 • 
 Gamma ( or power law ) transformations 
 Image enhancement : Intensity transformation 
 • 
 Gamma ( or power law ) transformations 
 To correct this , we apply gamma correction to the input signal(we know the intensity 
 and voltage relationship we simply take the complement ) which is known as Image 
 Gamma . 
 This gamma is automatically applied by the conversion algorithms like jpeg etc . thus 
 the image looks normal to us . 
 This input cancels out the effects generated by the display and we see the image as it 
 is . 
 Image enhancement : Intensity transformation 
 • 
 Gamma ( or power law ) transformations 
 = > Also useful for 
 contrast manipulation 
 Image enhancement : Intensity transformation 
 • Contrast Enhancement 
 A whole family of transformations are 
 defined using piecewise - linear 
 functions . 
 Image enhancement : Intensity transformation 
 All the function described so far can improve the appearance of an image by varying 
 some parameters 
 = > 
 How can we automatically determine the best values of these parameters ? 
 • Without spatial information , we can assimilate I(x , y ) as a random intensity emitter . 
 • The image histogram is the empirical distribution of image intensities . 
 Image enhancement : Intensity transformation 
 All the function described so far can improve the appearance of an image by varying 
 some parameters 
 = > 
 How can we automatically determine the best values of these parameters ? 
 • Without spatial information , we can assimilate I(x , y ) as a random intensity emitter . 
 • The image histogram is the empirical distribution of image intensities . 
 Image enhancement : Intensity transformation 
 • Image Histogram 
 Let [ 0 … L-1 ] be the intensity levels of an image . 
 The image histogram is a discrete function : 
 where r is the kth intensity value and n is the number of pixels in the image with intensity r . 
 k k k 
 Usually the histogram is normalized by dividing each component to the total number of pixels 
  each histogram component is an estimate of the probability of the occurrence of the intensity r 
 k 
 28 
 Image enhancement : Intensity transformation 
 • Image Histogram 
 h(r ) h(r ) 
 k k 
 r r 
 k k 
 29 
 Image enhancement : Intensity transformation 
 • Image Histogram 
 h(r ) 
 k 
 r 
 k 
 30 
 Image enhancement : Intensity transformation 
 Histogram equalization 
 As the name suggests , stretches the histogram to fill the dynamic range and at the same time tries to 
 keep the histogram uniform . 
  When enhancing an image , ideally we would like to maximize the dynamic range of the image to 
 catch both the dark and bright details . 
 Image enhancement : Intensity transformation 
 Histogram equalization 
 Intensity levels of an image may be viewed as random variables in interval [ 0 … L-1 ] . 
 Image histogram of s is an estimate of the PDF of s ( p ( s ) ) and histogram of r is an estimate of p ( r ) . 
 s r 
 From probability theory , when we apply a function to a random variable r we got : 
 ( T must be continuous , differentiable and strictly monotonic ) 
 32 
 Image enhancement : Intensity transformation 
 Cumulative distrib . 
 Function of r 
 Histogram equalization 
 Image enhancement : Intensity transformation 
 Histogram equalization 
 Since histogram is a discrete approximation of a PDF , the resulting histogram is in general not perfectly 
 flat . 
 It still remains a good approximation ! 
 Image enhancement : Intensity transformation 
 Histogram equalization 
 35 
 Image enhancement : Intensity transformation 
 Histogram equalization 
 36 
 Image enhancement : Intensity transformation 
 Histogram for thresholding 
 When using global thresholding a common problem 
 is to automatically find a good threshold t that 
 separates well dark from bright areas . 
 Image enhancement : Intensity transformation 
 Histogram for thresholding 
 Image histogram can give us useful clues on the threshold level . 
 If an image is separable through thresholding there will be a 
 range of intensity with low probability . 
 Image enhancement : Intensity transformation 
 Otsu Thresholding 
 The idea is to find the optimum threshold so that the variance of each class ( within- 
 class variance ) is minimized : 
 Spatial filtering 
 It is a neighborhood operator 
 It uses a collection of pixel values in the vicinity of a given pixel to determine its final 
 output value . 
 In a linear spatial filter , the output pixel value is a weighted sum of pixel values within a 
 neighborhood N. 
 Each set of weights = > define a new filter 
 It is a spatial filtering . 
 The underlying mechanism is the convolution . 
 40 
 Spatial filtering 
 It creates a new pixel with coordinates equal to the 
 center of the neighborhood and whose value is the 
 result of the filtering operation . 
 Filter is defined in terms of a coefficient matrix W 
 The performed operation is the sum of products of 
 the filter coefficients and the image pixels 
 encompassed by the filter . 
 41 
 Spatial filtering 
 • When applying a linear filter , 
 the same set of weights is 
 applied on the whole image . 
 • Different sets of weights = > 
 different processes . 
 42 
 Spatial filtering 
 • Linear : Superposition + scaling . 
 • Shift invariance : The response to a translated stimulus is just a translation of the 
 response to the stimulus . 
 48 
 Spatial linear filtering 
 What it is it used for ? 
 • Noise Reduction – Removes unwanted noise while preserving essential image features . 
 • Edge Detection – Enhances edges by applying filters like Sobel , Prewitt , or Laplacian . 
 • Image Sharpening – Enhances fine details and textures by emphasizing high - frequency components . 
 • Smoothing / Blurring – Reduces details or noise using averaging or Gaussian filters . 
 • Feature Enhancement – Enhances specific patterns or structures , such as textures . 
 • Embossing and Edge Enhancement – Creates relief effects by highlighting directional intensity changes . 
 • Image Restoration – Improves image quality by removing artifacts or blurring effects . 
 49 
 Smoothing filters 
 Smoothing filters are used for blurring / noise reduction . 
 The average filter is an example . 
 The Gaussian filter is another smoothing filter : 
 • It is a weighted average filter . 
 Smoothing filters 
 The Gaussian filter = > A crucial parameter : 𝜎 
 51 
 Smoothing filters 
 The Gaussian filter : 
 • If 𝜎 is very small , the smoothing will have a very little effect ( the weights for all 
 pixels off the center will be very small ) . 
 • For a larger 𝜎 , the neighboring pixels will have larger weights – 
 The average will 
 be strongly biased toward a consensus of the neighbors . 
 • A kernel that has a very large 𝜎 will cause much of the image detail to disappear , 
 along with the noise . 
 Sharpening filters 
 Derivatives of a digital discrete functions are defined in term of differences . 
 ( isotropic means here that the operator behaves the same in all directions . 
 The laplacian does not favor any 
 particular direction ( horizontal , vertical , or diagonal ) when computing the rate of change in intensity . ) 
 60 
 Sharpening : The Laplacian filter 
 In discrete form , the Laplacian can be expressed in term of finite differences : 
 The Laplacian filter 
 • The Laplacian operator highlights intensity discontinuities in an image and deemphasizes regions 
 with slowly varying intensity levels . 
 • If we add the effect of the laplacian operator to the original image we are effectively sharpening the 
 details while preserving background slowly - varying gradients . 
 Spatial filtering : Non - linear filters 
 Order - statistic filters are non - linear spatial filters whose response is based on : 
 1 . ordering the pixels contained in the image area encompassed by the filter 
 2 . replacing the value of the center pixel with the value determined by the ranking 
 result . 
 This category of filters is non - linear and can not be performed as a convolution 
 64 
 Spatial filtering : Non - linear filters 
 Order - statistic filters 
 Median - filter : replaces the value of a pixel by the median of the intensity values in the 
 neighborhood of that pixel ( the original value of the pixel is included in the 
 computation of the median ) 
 Max - filter : Replaces the value of a pixel with the brightest intensity value in the 
 neighborhood 
 Min - filter : Replaces the value of a pixel with the darkest intensity value in the 
 neighborhood 
 65 
 Spatial filtering : Non - linear filters 
 α - trimmed mean filter 
 • 
 It uses a robust estimate of the mean ( that does not take into account outliers ): 
 Eliminate the top and bottom α/2 values . 
 Take the average of the remaining pixels . 
 Spatial filtering : Non - linear filters 
 Bilateral filtering 
 • It is a non - linear , edge - preserving smoothing technique used in image processing . 
 • Unlike traditional filters that blur edges , it considers both spatial proximity and 
 intensity similarity when averaging pixel values . 
 • Spatial Weighting : Nearby pixels have a higher influence ( Gaussian function based 
 on distance ) . 
 • Intensity Weighting : Pixels with similar intensity values have a higher influence 
 ( Gaussian function based on intensity difference ) . 
 Spatial filtering : Non - linear filters 
 Bilateral filtering 
 • It considers both spatial proximity and intensity similarity when averaging pixel 
 values .