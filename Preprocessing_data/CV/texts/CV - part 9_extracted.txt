Course 
 Â« Computer Vision Â» 
 Sid - Ahmed Berrani 
 2024 - 2025 
 1 
 VI . 
 Line / curve boundary detection 
 Basically : 
 We have a set of edges in an image = > fit a line , a circle or any geometrical shape . 
 Fitting is the process to decompose an image or a set of tokens ( i.e. pixels , isolated points , 
 sets of edge points ... ) into components that belong to circles , lines or any other shape . 
 A line 
 A circle 
 2 
 VI . 
 Line / curve boundary detection 
 Edge post - processing 
 3 
 VI . Line / curve boundary detection 
 What is it used for ? 
 â€¢ Image segmentation : produce compact representations that emphasize the relevant image structures . 
 â€¢ Image understanding . 
 â€¢ Analyzing and measuring man made objects ( e.g. as part of quality insurance process ) . 
 4 
 VI . Line / curve boundary detection 
 ïƒ Fitting involves determining what possible curves could have given rise to a set 
 of tokens observed in an image . 
 5 
 VI . Line / curve boundary detection 
 Fitting involves determining what possible curves could have given rise to a set of 
 tokens observed in an image . 
 ïƒ Many sub - problems : 
 1 . Parameter estimation : if we already 
 know the association between tokens and 
 curves . We need to recover the parameters 
 of each curve . 
 6 
 VI . Line / curve boundary detection 
 Fitting involves determining what possible curves could have given rise to a set of 
 tokens observed in an image . 
 we assume to 
 know only how many curves are present but 
 not which token came from which curve . 
 The association must be solved together 
 with parameter estimation . 
 7 
 VI . Line / curve boundary detection 
 Fitting involves determining what possible curves could have given rise to a set of 
 tokens observed in an image . 
 ïƒ Many sub - problems : 
 we have no prior knowledge on the 
 data , so we must figure out : 
 ( i ) How many curves are present , 
 ( ii ) The association between tokens and curves , 
 ( iii ) Curve parameters . 
 8 
 VI . Line / curve boundary detection 
 Parameter estimation : 
 â€¢ We have observed a set of points generated by a certain curve model with unknown 
 parameters . 
 Goal : Find the best set of parameters that justify the observations . 
 Line / curve boundary detection 
 Let â€™s start with fitting lines to edges â€¦ 
 Edges : points ğ‘¥ , ğ‘¦ 
 ğ‘– ğ‘– 
 10 
 VI . 
 Line / curve boundary detection 
 Let â€™s start with fitting lines to edges â€¦ 
 Edges : points ğ‘¥ , ğ‘¦ 
 ğ‘¦ = ğ‘šğ‘¥ + ğ‘ 
 ğ‘– ğ‘– 
 Goal : find ğ‘š and ğ‘. 
 11 
 VI . 
 Line / curve boundary detection 
 Let â€™s start with fitting lines to edges â€¦ 
 Edges : points ğ‘¥ , ğ‘¦ 
 ğ‘– ğ‘– 
 Goal : find ğ‘š and ğ‘. 
 The idea : 
 Minimize average squared vertical distances . 
 1 
 ğ¸ = Ïƒ ğ‘¦ âˆ’ ğ‘šğ‘¥ âˆ’ ğ‘ 2 
 ğ‘– ğ‘– ğ‘– 
 ğ‘ 
 The solution : least square method 
 ğğ‘¬ âˆ’2 ğğ‘¬ âˆ’2 
 = Ïƒ ğ‘¥ ğ‘¦ âˆ’ ğ‘šğ‘¥ âˆ’ ğ‘ = Ïƒ ğ‘¦ âˆ’ ğ‘šğ‘¥ âˆ’ ğ‘ 
 ğ‘– ğ‘– ğ‘– ğ‘– ğ‘– ğ‘– ğ‘– 
 ğğ’ ğ‘ ğğ’„ ğ‘ 
 12 
 VI . Line / curve boundary detection 
 Let â€™s start with fitting lines to edges â€¦ 
 The idea : 
 Minimize average squared vertical distances . 
 1 
 ğ¸ = Ïƒ ğ‘¦ âˆ’ ğ‘šğ‘¥ âˆ’ ğ‘ 2 
 ğ‘– ğ‘– ğ‘– 
 ğ‘ 
 The solution : least square method 
 ğğ‘¬ âˆ’2 
 = Ïƒ ğ‘¥ ğ‘¦ âˆ’ ğ‘šğ‘¥ âˆ’ ğ‘ 
 ğ‘– ğ‘– ğ‘– ğ‘– 
 ğğ’ ğ‘ 
 ğğ‘¬ âˆ’2 
 = Ïƒ ğ‘¦ âˆ’ ğ‘šğ‘¥ âˆ’ ğ‘ 
 ğ‘– ğ‘– ğ‘– 
 ğğ’„ ğ‘ 
 Ïƒ ğ‘¥ âˆ’ğ‘¥Ò§ ğ‘¦ âˆ’ğ‘¦à´¤ 
 ğ‘š = ğ‘– ğ‘– ğ‘– ğ‘ = ğ‘¦à´¤ âˆ’ ğ‘šğ‘¥Ò§ 
 Ïƒ ğ‘¥ âˆ’ğ‘¥Ò§ 2 
 ğ‘– ğ‘– 
 1 1 
 Where ğ‘¥Ò§ = Ïƒ ğ‘¥ ğ‘¦à´¤ = Ïƒ ğ‘¦ 13 
 ğ‘– ğ‘– ğ‘– ğ‘– 
 ğ‘ ğ‘ 
 VI . Line / curve boundary detection 
 Let â€™s start with fitting lines to edges â€¦ 
 The idea : 
 Minimize average squared vertical distances . 
 1 
 ğ¸ = Ïƒ ğ‘¦ âˆ’ ğ‘šğ‘¥ âˆ’ ğ‘ 2 
 ğ‘– ğ‘– ğ‘– 
 ğ‘ 
 The solution : least square method 
 The problem : 
 Vertical lines . 
 14 
 VI . Line / curve boundary detection 
 Let â€™s start with fitting lines to edges â€¦ 
 The idea : 
 Minimize average squared vertical distances . 
 1 
 ğ¸ = Ïƒ ğ‘¦ âˆ’ ğ‘šğ‘¥ âˆ’ ğ‘ 2 
 ğ‘– ğ‘– ğ‘– 
 ğ‘ 
 The solution : least square method 
 The problem : 
 Vertical lines . 
 An alternative solution : 
 Minimizing the perpendicular distance . 
 Line / curve boundary detection 
 Fitting lines to edges 
 Minimizing the perpendicular distance 
 ïƒ Solution : 2D PCA 
 18 
 VI . 
 Line / curve boundary detection 
 ğ‘‹ğ‘ = ğ‘¦ 
 ğ‘‡ ğ‘‡ ğ‘‡ 
 ğ‘‹ ğ‘‹ğ‘ = ğ‘‹ ğ‘¦ ğ‘‹ ğ‘‹ is a ğ‘š Ã— ğ‘š square matrix 
 ğ‘‡ âˆ’1 ğ‘‡ ğ‘‡ âˆ’1 ğ‘‡ 
 ğ‘‹ ğ‘‹ ğ‘‹ ğ‘‹ ğ‘ = ğ‘‹ ğ‘‹ ğ‘‹ ğ‘¦ 
 ğ‘‡ âˆ’1 ğ‘‡ + ğ‘‡ âˆ’1 ğ‘‡ 
 ğ‘ = ğ‘‹ ğ‘‹ ğ‘‹ ğ‘¦ ğ‘‹ = ğ‘‹ ğ‘‹ ğ‘‹ 
 ( Pseudo inverse ) 
 24 
 VI . Line / curve boundary detection 
 The main problem with boundary detection : 
 How to know which edges in an image actually correspond to the 
 boundary we are looking for . 
 = > 
 The Hough transform 
 The Hough transform 
 Definition and goal : 
 â€¢ The Hough Transform is a feature extraction technique used in image 
 analysis , computer vision , and digital image processing . 
 â€¢ Its main goal is to detect simple geometric shapes ( such as lines , 
 circles , or ellipses ) in an image . 
 The Hough transform 
 Advantages over existing methods : 
 â€¢ Robust to noise and gaps : Unlike edge - following algorithms , the Hough Transform 
 can detect lines even if the line is partially broken or noisy . 
 â€¢ Simple mathematical formulation for complex pattern recognition tasks . 
 â€¢ Works in cluttered scenes : Efficiently finds shapes even in the presence of many 
 irrelevant edges . 
 â€¢ Detects multiple instances of the same shape in a single pass . 
 The transform 
 Applications : 
 â€¢ Lane detection in autonomous driving systems ( detecting road boundaries or lanes ) . 
 â€¢ Object recognition where objects are approximated by geometric shapes . 
 â€¢ Medical image analysis ( e.g. , detecting circular features like tumors or bones ) . 
 â€¢ Robotics for identifying structured environments . 
 â€¢ Industrial inspection to detect regular shapes in manufactured parts . 
 â€¢ Document image analysis to detect lines , text baselines , or page segmentation . 
 The transform 
 Challenges : 
 â€¢ Which data to fit to ? 
 â€¢ Only part of the model is visible : data is incomplete 
 â€¢ 
 Noise . 
 30 
 VII . The transform 
 Let â€™s start with the straight line â€¦ 
 Edges : points ğ‘¥ , ğ‘¦ 
 ğ‘– ğ‘– 
 Task : detect the line y = ğ‘šğ‘¥ + ğ‘ 
 If we consider a point ğ‘¥ , ğ‘¦ : 
 ğ‘– ğ‘– 
 ğ‘¦ = ğ‘šğ‘¥ + ğ‘ â‡” c = âˆ’ğ‘šğ‘¥ + ğ‘¦ 
 ğ‘– ğ‘– ğ‘– ğ‘– 
 31 
 VII . 
 The transform 
 The principle : 
 The transform 
 Image 
 Line detection algorithm 
 1 . Quantize parameter space ( ğ‘š , ğ‘ ) 
 2 . Create an accumulator array A(ğ‘š , ğ‘ ) 
 3 . Set A ğ‘š , ğ‘ = 0 for all positions in the array 
 ğ€ ğ’ , ğ’„ 
 ğ’ 
 ğ’„ 
 33 
 VII . 
 The Hough transform 
 The Hough transform 
 Image 
 Line detection algorithm 
 1 . Quantize parameter space ( ğ‘š , ğ‘ ) 
 2 . Create an accumulator array A(ğ‘š , ğ‘ ) 
 3 . Set A ğ‘š , ğ‘ = 0 for all positions in the array 
 4 . 
 The Hough transform 
 Image 
 Line detection algorithm 
 1 . Quantize parameter space ( ğ‘š , ğ‘ ) 
 2 . Create an accumulator array A(ğ‘š , ğ‘ ) 
 3 . Set A ğ‘š , ğ‘ = 0 for all positions in the array 
 4 . For each edge point ğ‘¥ , ğ‘¦ : 
 ğ‘– ğ‘– 
 ğ€ ğ’ , ğ’„ 
 A ğ‘š , ğ‘ + = 1 if ( ğ‘š , ğ‘ ) lies in the line c = âˆ’ğ‘šğ‘¥ + ğ‘¦ 
 ğ‘– ğ‘– 
 1 0 0 1 0 
 0 1 0 1 0 
 0 0 1 1 0 
 ğ’ 
 1 1 1 3 1 
 0 0 0 1 1 
 0 0 0 1 0 
 ğ’„ 
 37 
 VII . 
 For each edge point ğ‘¥ , ğ‘¦ : 
 ğ‘– ğ‘– 
 ğ€ ğ’ , ğ’„ 
 A ğ‘š , ğ‘ + = 1 if ( ğ‘š , ğ‘ ) lies in the line c = âˆ’ğ‘šğ‘¥ + ğ‘¦ 
 ğ‘– ğ‘– 
 1 0 0 1 0 
 5 . 
 The transform 
 A parametrization problem 
 â€¢ The parameter ğ‘š ( the slope ) varies between âˆ’âˆ and + âˆ. 
 â€¢ A fine quantization = > a very large accumulator . 
 â€¢ A huge amount of memory required 
 â€¢ A very costly line detection algorithm . 
 The solution : 
 â€¢ Instead of representing the line in the cartesian domain , use a polar representation . 
 â€¢ Work on parameters ğœƒ and ğœŒ : 
 ğœ‹ â‰¥ ğœƒ â‰¥ 0 
 ğœŒ is finite 
 41 
 VII . 
 The transform 
 The algorithm : 
 â€¢ Initialize A ğœŒ , ğœƒ = 0 
 â€¢ For each edge point ğ‘ ğ‘¥ , ğ‘¦ in the image 
 ğ‘– ğ‘– ğ‘– 
 For ğœƒ = 0 to ğœ‹ 
 ğœŒ = ğ‘¥ ğ‘ğ‘œğ‘  ğœƒ + ğ‘¦ ğ‘ ğ‘–ğ‘› ğœƒ 
 ğ‘– ğ‘– 
 A ğœŒ , ğœƒ + = 1 
 â€¢ Find ğœŒ , ğœƒ for which A ğœŒ , ğœƒ is maximum . 
 â€¢ The detected line is given by ğœŒ = ğ‘¥ ğ‘ğ‘œğ‘  ğœƒ + ğ‘¦ ğ‘ ğ‘–ğ‘› ğœƒ 
 42 
 VII . 
 The transform 
 Possible extensions & optimizations 
 â€¢ Along with the edges , make use of the gradient direction 
 = > Reduces the need to iterate overall possible values of ğœƒ. 
 The gradient direction at each edge point to directly infer the most likely 
 orientation of the line passing through that point . 
 The transform 
 Possible extensions & optimizations 
 â€¢ How many lines do we have ? 
 Count the peaks in the accumulator array . 
 The Hough transform 
 Application to circle detection 
 â€¢ Let â€™s make the problem simpler . 
 We assume the radius ğ‘Ÿ known . 
 The transform 
 Application to circle detection 
 â€¢ Let â€™s make the problem simpler . 
 We assume the radius ğ‘Ÿ known . 
 The transform 
 Application to circle detection 
 â€¢ Let â€™s make the problem simpler . 
 We assume the radius ğ‘Ÿ known . 
 The Hough transform 
 Application to circle detection 
 â€¢ Let â€™s make the problem simpler . 
 We assume the radius ğ‘Ÿ known . 
 The Hough transform 
 An example 
 Original image Edges Hough Transform Hough Transform 
 ğ‘Ÿ = ğ‘Ÿ ğ‘Ÿ = ğ‘Ÿ 
 1 2 
 52 
 VII . 
 The Hough transform 
 Application to circle detection 
 â€¢ Now , if the radius ğ‘Ÿ is unknown . 
 â€¢ 
 The Hough transform 
 Application to circle detection 
 â€¢ Now , if the radius ğ‘Ÿ is unknown . 
 â€¢ 
 The accumulator array concerns parameters ğ‘ , ğ‘ and also the radius ğ‘Ÿ. 
 2 2 2 
 ğ’™ âˆ’ ğ‘ + ğ’š âˆ’ ğ‘ = ğ‘Ÿ 2 ğŸ 2 
 ğ‘¥ âˆ’ ğ’‚ + ğ’š âˆ’ ğ’ƒ = ğ’“ 
 ğ’Š ğ’Š 
 ğ‘– ğ’Š 
 Image space 54 
 Parameter space